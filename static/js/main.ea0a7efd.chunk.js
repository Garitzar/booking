(this.webpackJsonpbooking=this.webpackJsonpbooking||[]).push([[3],{114:function(e,t,n){},135:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(88),s=n.n(c),i=(n(114),n(1)),o=n.n(i),l=n(5),u=n(8),b=n(27),d={integration:"project-booking-bdRhJlbRrBcfVlgSrVdzYrUKfaQsyF0x",version:"2020-11-20"},j=n(90),g=n(107),f=n(152),O=n(151),x=n(12),p="silfverbokning",h=n(73),D=(n(133),n(134),n(55),n(135),n(7));function m(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(u.a)(c,2),i=s[0],d=s[1],x=Object(a.useState)("startDate"),h=Object(u.a)(x,2),m=(h[0],h[1],Object(b.b)()),k=m.signIn,y=m.signUp,S=function(){r(""),d("")},w=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,k(n,i);case 2:t=e.sent,console.log("kunde logga in? "+t.success),t.success?alert("Inloggad?"):alert("Kan inte logga in"),S();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p===i){e.next=3;break}return alert("Fel kod!"),e.abrupt("return");case 3:return e.next=5,y(n,i,{created_at:(new Date).toString});case 5:if(!e.sent.success){e.next=14;break}return e.next=9,k(n,i);case 9:t=e.sent,alert("Konto skapat!"),t||alert("Kan inte logga in"),e.next=15;break;case 14:alert("Sign-up failed!");case 15:S();case 16:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(D.jsxs)(j.a,{style:v.container,children:[Object(D.jsx)(g.a,{style:v.title,children:"V\xe4lkommen till Silvfers boknings system."}),Object(D.jsx)(f.a,{value:n,onChangeText:function(e){return r(e)},style:v.accountInput,placeholder:"Anv\xe4ndarnamn"}),Object(D.jsx)(f.a,{secureTextEntry:!0,value:i,onChangeText:function(e){return d(e)},style:v.accountInput,placeholder:"L\xf6senord (ifr\xe5n Magnus)"}),Object(D.jsxs)(j.a,{style:{display:"flex",flexDirection:"column",marginTop:30},children:[Object(D.jsx)(O.a,{title:"Logga in",onPress:w}),Object(D.jsx)("p",{children:"\u24d8 Skriv in l\xf6senordet ifr\xe5n Magnus f\xf6r att skapa ett konto. Samma l\xf6senord anv\xe4nds vid inlogging."}),Object(D.jsx)(O.a,{title:"Skapa konto",onPress:I})]})]})}var v=x.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},accountInput:{height:40,borderColor:"gray",borderWidth:1,width:"75%",margin:10,fontSize:22,textAlign:"center"},title:{fontSize:30,fontWeight:"500",fontStyle:"italic",marginBottom:30}});function k(){var e=Object(b.b)().isUserSignedIn;return console.log("logged in?: "+e()),e()?Object(D.jsx)(S,{}):Object(D.jsx)(m,{})}function y(e){var t=Object(b.b)(),n=t.Frame,a=t.sync;return Object(D.jsx)("button",{style:{},onClick:function(){n().push({name:e.userID,startdate:e.dates[0].startDate,endDate:e.dates[0].endDate,location:0}),a()},children:"Boka"})}function S(){var e=Object(b.b)(),t=e.Frame,n=e.sync,r=e.configureFrame,c=Object(b.b)().userID,s=Object(a.useState)([new Date,new Date]),i=Object(u.a)(s,2),o=(i[0],i[1],Object(a.useState)("startDate")),l=Object(u.a)(o,2),d=(l[0],l[1],Object(a.useState)([{startDate:new Date,endDate:new Date,key:"selection"}])),g=Object(u.a)(d,2),f=g[0],O=g[1],x=[];new Date,new Date;Object(a.useEffect)((function(){r({tableName:"BOOKING",limit:10}),n()}),[]);var p={border:"2px #0af solid",borderRadius:9,margin:20,backgroundColor:"#efefef",padding:6};return t().map((function(e){for(var t=new Date(e.startdate),n=new Date(e.enddate),a=t;a<=n;a.setDate(a.getDate()+1))console.log(a.toLocaleDateString()),x.push(new Date(a.toLocaleDateString()))})),Object(D.jsxs)("div",{children:[Object(D.jsx)(h.DateRange,{editableDateInputs:!0,onChange:function(e){return O([e.selection])},moveRangeOnFirstSelection:!1,ranges:f,disabledDates:x}),Object(D.jsxs)("div",{style:{width:400},children:[Object(D.jsx)(y,{dates:f,userID:c()}),t().map((function(e){return Object(D.jsxs)("div",{style:p,children:[Object(D.jsx)("h3",{children:e.name}),Object(D.jsxs)(j.a,{style:{display:"flex",flexDirection:"column",marginTop:30},children:[Object(D.jsx)("small",{children:String(new Date(e.startdate).toLocaleDateString()).slice(0,10)}),Object(D.jsx)("small",{children:String(new Date(e.enddate).toLocaleDateString()).slice(0,10)})]})]})}))]})]})}var w=function(){return Object(D.jsx)("div",{className:"App",style:{display:"flex",justifyContent:"center"},children:Object(D.jsx)(b.a,{ebconfig:d,children:Object(D.jsx)(k,{})})})},I=function(e){e&&e instanceof Function&&n.e(14).then(n.bind(null,162)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(D.jsx)(r.a.StrictMode,{children:Object(D.jsx)(w,{})}),document.getElementById("root")),I()}},[[144,4,5]]]);
//# sourceMappingURL=main.ea0a7efd.chunk.js.map