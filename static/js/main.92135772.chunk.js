(this.webpackJsonpbooking=this.webpackJsonpbooking||[]).push([[3],{114:function(e,t,n){},135:function(e,t,n){},144:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(88),s=n.n(c),i=(n(114),n(1)),o=n.n(i),l=n(5),u=n(8),j=n(27),b={integration:"project-booking-bdRhJlbRrBcfVlgSrVdzYrUKfaQsyF0x",version:"2020-11-20"},d=n(90),f=n(107),g=n(152),O=n(151),x=n(12),h=n(73),p=(n(133),n(134),n(55),n(135),n(7));function D(){var e=Object(a.useState)(""),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(u.a)(c,2),i=s[0],b=s[1],x=Object(a.useState)("startDate"),h=Object(u.a)(x,2),D=(h[0],h[1],Object(j.b)()),y=D.signIn,v=D.signUp,S=function(){r(""),b("")},w=function(){var e=Object(l.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,y(n,i);case 2:e.sent.success?alert("Inloggad?"):alert("Kan inte logga in"),S();case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),k=function(){var e=Object(l.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,v(n,i,{created_at:(new Date).toString});case 2:if(!e.sent.success){e.next=9;break}return e.next=6,y(n,i);case 6:t=e.sent,alert("Konto skapat!"),t||alert("Kan inte logga in");case 9:S();case 10:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(p.jsxs)(d.a,{style:m.container,children:[Object(p.jsx)(f.a,{style:m.title,children:"V\xe4lkommen till Silfvers boknings system."}),Object(p.jsx)(g.a,{value:n,onChangeText:function(e){return r(e)},style:m.accountInput,placeholder:"Anv\xe4ndarnamn"}),Object(p.jsx)(g.a,{secureTextEntry:!0,value:i,onChangeText:function(e){return b(e)},style:m.accountInput,placeholder:"L\xf6senord"}),Object(p.jsxs)(d.a,{style:{display:"flex",flexDirection:"column",marginTop:30},children:[Object(p.jsx)(O.a,{title:"Logga in",onPress:w}),Object(p.jsx)(O.a,{title:"Skapa konto",onPress:k})]})]})}var m=x.a.create({container:{flex:1,backgroundColor:"#fff",alignItems:"center",justifyContent:"center"},accountInput:{height:40,borderColor:"gray",borderWidth:1,width:"75%",margin:10,fontSize:22,textAlign:"center"},title:{fontSize:30,fontWeight:"500",fontStyle:"italic",marginBottom:30}});function y(){var e=Object(j.b)().isUserSignedIn;return console.log("logged in?: "+e()),e()?Object(p.jsx)(S,{}):Object(p.jsx)(D,{})}function v(e){var t=Object(j.b)(),n=t.Frame,a=t.sync;return Object(p.jsx)("button",{style:{},onClick:function(){n().push({name:e.userID,startdate:e.dates[0].startDate,endDate:e.dates[0].endDate,location:0}),a()},children:"Boka"})}function S(){var e=Object(j.b)(),t=e.Frame,n=e.sync,r=e.configureFrame,c=Object(j.b)().userID,s=Object(a.useState)([new Date,new Date]),i=Object(u.a)(s,2),o=(i[0],i[1],Object(a.useState)("startDate")),l=Object(u.a)(o,2),b=(l[0],l[1],Object(a.useState)([{startDate:new Date,endDate:new Date,key:"selection"}])),f=Object(u.a)(b,2),g=f[0],O=f[1],x=[];new Date,new Date;Object(a.useEffect)((function(){r({tableName:"BOOKING",limit:10}),n()}),[]);var D={border:"2px #0af solid",borderRadius:9,margin:20,backgroundColor:"#efefef",padding:6};return t().map((function(e){for(var t=new Date(e.startdate),n=new Date(e.enddate),a=t;a<=n;a.setDate(a.getDate()+1))console.log(a.toLocaleDateString()),x.push(new Date(a.toLocaleDateString()))})),Object(p.jsxs)("div",{children:[Object(p.jsx)(h.DateRange,{editableDateInputs:!0,onChange:function(e){return O([e.selection])},moveRangeOnFirstSelection:!1,ranges:g,disabledDates:x}),Object(p.jsxs)("div",{style:{width:400},children:[Object(p.jsx)(v,{dates:g,userID:c()}),t().map((function(e){return Object(p.jsxs)("div",{style:D,children:[Object(p.jsx)("h3",{children:e.name}),Object(p.jsxs)(d.a,{style:{display:"flex",flexDirection:"column",marginTop:30},children:[Object(p.jsx)("small",{children:String(new Date(e.startdate).toLocaleDateString()).slice(0,10)}),Object(p.jsx)("small",{children:String(new Date(e.enddate).toLocaleDateString()).slice(0,10)})]})]})}))]})]})}var w=function(){return Object(p.jsx)("div",{className:"App",style:{display:"flex",justifyContent:"center"},children:Object(p.jsx)(j.a,{ebconfig:b,children:Object(p.jsx)(y,{})})})},k=function(e){e&&e instanceof Function&&n.e(14).then(n.bind(null,162)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(p.jsx)(r.a.StrictMode,{children:Object(p.jsx)(w,{})}),document.getElementById("root")),k()}},[[144,4,5]]]);
//# sourceMappingURL=main.92135772.chunk.js.map