(this.webpackJsonpbooking=this.webpackJsonpbooking||[]).push([[8],{154:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var r=a(38),n=a(0),l=a.n(n),i=a(146).q.p((function(e){return Object(r.b)({marginTop:5,marginBottom:-5,fontSize:12,fontWeight:500,color:"red",height:0,overflow:"visible"},e.theme.errorText?Object(r.b)({},e.theme.errorText):{})}));function o(e){return e.value&&e.value.length?l.a.createElement(i,Object.assign({},e),e.value):l.a.createElement(l.a.Fragment,null)}},157:function(e,t,a){"use strict";a.r(t);var r=a(1),n=a.n(r),l=a(5),i=a(0),o=a.n(i),s=a(153),m=a(154),c=a(38),u=a(146),d=u.q.div({position:"relative",display:"inline",width:"100%",maxWidth:"100%",cursor:"pointer","&:after":{content:"''",width:0,height:0,position:"absolute",pointerEvents:"none",top:".3em",right:".75em",borderTop:"8px solid black",opacity:.5,borderLeft:"5px solid transparent",borderRight:"5px solid transparent"}}),b=u.q.select({WebkitAppearance:"none",MozAppearance:"none",appearance:"none",padding:"1em 2em 1em 1em",border:"none",width:"100%",fontFamily:"inherit",fontSize:"inherit",cursor:"pointer",outline:"none","&::-ms-expand":{display:"none"}}),g=u.q.option((function(e){return Object(c.b)({width:"100%"},e.theme.selectOption?Object(c.b)({},e.theme.selectOption):{})}));var p=Object(u.q)((function(e){return o.a.createElement(d,null,o.a.createElement(b,Object.assign({},e,e.register(),{defaultValue:""}),o.a.createElement(g,{key:"empty-option",value:"",disabled:!0,hidden:!0,style:{display:"none"}}),e.options.map((function(e){return o.a.createElement(g,{key:"option"+e},e)}))))}))((function(e){return Object(c.b)({boxSizing:"border-box"},e.theme.genderSelect?Object(c.b)({},e.theme.genderSelect):{})})),f=u.q.div({position:"relative"}),h=Object(u.q)(s.e)((function(e){return Object(c.b)({},e.theme.genderSelectLabel?Object(c.b)({},e.theme.genderSelectLabel):{})}));function E(e){return o.a.createElement(f,null,o.a.createElement(h,{htmlFor:"select-gender"},"Gender *"),o.a.createElement(p,Object.assign({id:"select-gender"},e,{options:["Male","Female","Prefer not to say"]})))}t.default=function(e){var t,a,r,d,b,g,p,f,h=e.setCurrentPage,w=e.dictionary,v=e.signUpFields,x=Object(s.k)(),N=x.register,O=x.handleSubmit,y=x.formState,k=y.errors,S=y.isSubmitting,j=x.reset,z=Object(c.f)(),F=z.signUp,L=z.signIn,B=function(){var e=Object(l.a)(n.a.mark((function e(t){var a,r,l,i,o;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.email&&t.password&&t.passwordConfirm){e.next=2;break}return e.abrupt("return");case 2:if(t.password===t.passwordConfirm){e.next=6;break}return u.t.error(w.errorPasswordsDoNotMatch),j(),e.abrupt("return");case 6:a={createdAt:(new Date).toISOString()},r=0,l=["firstName","lastName","fullName","dateOfBirth","gender","phoneNumber"];case 8:if(!(r<l.length)){e.next=20;break}if(i=l[r],!v[i]){e.next=17;break}if(!t[i]){e.next=15;break}a[i]=""+t[i],e.next=17;break;case 15:return u.t.error("Missing sign up field value"),e.abrupt("return");case 17:r++,e.next=8;break;case 20:return e.next=22,F(t.email,t.password,a);case 22:if(!(o=e.sent).success){e.next=29;break}return h("SignIn"),e.next=27,L(t.email,t.password);case 27:e.next=30;break;case 29:"BadFormat"===o.errorCode?(j(),u.t.error(w.errorBadInputFormat)):"BadPasswordLength"===o.errorCode?u.t.error(w.errorPasswordTooShort):"UserExists"===o.errorCode&&(j(),u.t.error(w.errorUserAlreadyExists));case 30:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),C={minLength:{value:8,message:"Password must be at least 8 characters long"},maxLength:{value:100,message:"Password too long"},pattern:{value:/^(?=.*\d)(?=.*[a-z])(?=.*[A-Z])(?=.*[a-zA-Z]).{7,}$/gm,message:"Must contain a digit and uppercase and lowercase letters"}};return o.a.createElement(s.b,{onSubmit:O(B)},o.a.createElement(s.c,null,w.signUpHeader),o.a.createElement(s.g,{size:"medium"}),o.a.createElement(s.a,{register:function(){return N("email")},label:w.newEmailLabel,disabled:S}),v.firstName&&o.a.createElement(i.Fragment,null,o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.d,{register:function(){return N("firstName","boolean"===typeof v.firstName?{}:v.firstName)},label:w.newFirstNameLabel||"",disabled:S}),o.a.createElement(m.a,{value:null==(t=k.firstName)?void 0:t.message})),v.lastName&&o.a.createElement(i.Fragment,null,o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.d,{register:function(){return N("lastName","boolean"===typeof v.lastName?{}:v.lastName)},label:w.newLastNameLabel||"",disabled:S}),o.a.createElement(m.a,{value:null==(a=k.lastName)?void 0:a.message})),v.fullName&&o.a.createElement(i.Fragment,null,o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.d,{register:function(){return N("fullName","boolean"===typeof v.fullName?{}:v.fullName)},label:w.newFullNameLabel||"",disabled:S}),o.a.createElement(m.a,{value:null==(r=k.fullName)?void 0:r.message})),v.dateOfBirth&&o.a.createElement(i.Fragment,null,o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.d,{type:"date",register:function(){return N("dateOfBirth","boolean"===typeof v.dateOfBirth?{}:v.dateOfBirth)},label:w.newDateOfBirthLabel||"",disabled:S,style:{overflow:"hidden"}}),o.a.createElement(m.a,{value:null==(d=k.dateOfBirth)?void 0:d.message})),v.gender&&o.a.createElement(i.Fragment,null,o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(E,{register:function(){return N("gender","boolean"===typeof v.gender?{}:v.gender)},disabled:S}),o.a.createElement(m.a,{value:null==(b=k.gender)?void 0:b.message})),v.phoneNumber&&o.a.createElement(i.Fragment,null,o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.d,{type:"tel",label:w.newPhoneNumberLabel||"",register:function(){return N("phoneNumber","boolean"===typeof v.phoneNumber?{}:v.phoneNumber)},disabled:S}),o.a.createElement(m.a,{value:null==(g=k.phoneNumber)?void 0:g.message})),o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.f,{register:function(){return N("password",C)},label:w.newPasswordLabel,autoComplete:"new-password",disabled:S}),o.a.createElement(m.a,{value:null==(p=k.password)?void 0:p.message}),o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.f,{register:function(){return N("passwordConfirm",C)},label:w.confirmNewPasswordLabel,autoComplete:"new-password",disabled:S}),o.a.createElement(m.a,{value:null==(f=k.passwordConfirm)?void 0:f.message}),o.a.createElement(s.g,{size:"xlarge"}),o.a.createElement(s.i,{disabled:S},w.signUpSubmitButton),o.a.createElement(s.j,{onClick:function(e){return h("SignIn")},disabled:S},w.backToSignIn))}}}]);
//# sourceMappingURL=8.8c5cff25.chunk.js.map